{% extends "base.html" %}

{% block title %}{{ recipe.name }} - Cookbook{% endblock %}

{% block content %}
<div id="recipeDiv" class="max-w-4xl mx-auto">
    <!-- Back Link -->
    <a href="/cookbook" class="text-blue-600 hover:underline text-sm mb-4 inline-block">
        â† Back to Recipes
    </a>

    <!-- Recipe Header -->
    <div id="recipeDetails" class="bg-white rounded-lg shadow p-8 mb-6">
    </div>


    <div id="recipeIngredients" class="bg-white rounded-lg shadow p-8 mb-6" style="display: none;">
    </div>

    <div id="recipeSteps" class="bg-white rounded-lg shadow p-8" style="display: none;">
    </div>

    <!-- Delete Action -->
    <div class="bg-white rounded-lg shadow p-8">
        <form method="post" action="/recipe-delete/{{ recipe.id }}" 
              onsubmit="return confirm('Are you sure you want to delete this recipe?');">
            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded">
                ğŸ—‘ï¸ Delete Recipe
            </button>
        </form>
    </div>
</div>

<script>
    // Convert the Jinja variable into JSON for JavaScript
    const recipeData = {{ recipe | tojson | safe }};
    console.log("recipeData:", recipeData);

</script>
<script src="{{ url_for('static', path='js/recipe-details.js') }}"></script>
{% endblock %}
