{% extends "base.html" %}

{% block title %}{{ recipe.name }} - Cookbook{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Back Link -->
    <a href="/cookbook" class="text-blue-600 hover:underline text-sm mb-4 inline-block">
        â† Back to Recipes
    </a>

    <!-- Recipe Header -->
    <div class="bg-white rounded-lg shadow p-8 mb-6">
        <h1 class="text-4xl font-bold mb-2">{{ recipe.name }}</h1>
        
        {% if recipe.description %}
        <p class="text-gray-600 text-lg mb-4">{{ recipe.description }}</p>
        {% endif %}

        <!-- Recipe Info Row -->
        <div class="flex gap-8 text-sm text-gray-600 mt-6">
            {% if recipe.servings %}
            <span class="flex items-center">
                <span class="mr-2">ğŸ½ï¸</span>
                <span><strong>{{ recipe.servings }}</strong> servings</span>
            </span>
            {% endif %}
            
            {% if recipe.time_prep %}
            <span class="flex items-center">
                <span class="mr-2">â±ï¸</span>
                <span>Prep: <strong>{{ recipe.time_prep }}</strong> min</span>
            </span>
            {% endif %}
            
            {% if recipe.time_cook %}
            <span class="flex items-center">
                <span class="mr-2">ğŸ”¥</span>
                <span>Cook: <strong>{{ recipe.time_cook }}</strong> min</span>
            </span>
            {% endif %}
        </div>
    </div>

    <!-- Ingredients Section -->
    {% if ingredients %}
    <div class="bg-white rounded-lg shadow p-8 mb-6">
        <h2 class="text-2xl font-bold mb-6 pb-3 border-b-2 border-blue-600">ğŸ“‹ Ingredients</h2>
        
        <ul class="space-y-3">
            {% for ingredient in ingredients %}
            <li class="flex items-center text-gray-700">
                <span class="w-24 font-bold text-blue-600">
                    {{ ingredient.quantity }}
                </span>
                <span class="w-20 text-gray-600">
                    {{ ingredient.unit }}
                </span>
                <span class="flex-1">
                    {{ ingredient.name }}
                </span>
                {% if ingredient.method %}
                <span class="text-sm text-gray-500 italic">
                    ({{ ingredient.method }})
                </span>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <!-- Steps Section -->
    {% if steps %}
    <div class="bg-white rounded-lg shadow p-8 mb-6">
        <h2 class="text-2xl font-bold mb-6 pb-3 border-b-2 border-blue-600">ğŸ‘¨â€ğŸ³ Instructions</h2>
        
        <div class="space-y-4">
            {% for step in steps %}
            <div class="border-l-4 border-blue-600 pl-6 py-2 bg-blue-50 rounded">
                <div class="font-bold text-blue-600 mb-2">
                    Step {{ step.step_number }}
                </div>
                <p class="text-gray-700 leading-relaxed">
                    {{ step.description }}
                </p>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <!-- Delete Action -->
    <div class="bg-white rounded-lg shadow p-8">
        <form method="post" action="/recipe-delete/{{ recipe.id }}" 
              onsubmit="return confirm('Are you sure you want to delete this recipe?');">
            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded">
                ğŸ—‘ï¸ Delete Recipe
            </button>
        </form>
    </div>
</div>

{% endblock %}
